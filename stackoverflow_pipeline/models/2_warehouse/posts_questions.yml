version: 2

models:
  - name: posts_questions
    description: >
      This model transforms the `posts_questions` source table into a structured format for 
      downstream analytics. It contains details about questions posted by users, including 
      metadata, relationships, and tags for categorization.
    columns:
      - name: post_question_pk
        description: >
          A unique primary key generated by hashing a combination of the `id`, 
          `creation_date`, and `owner_user_id` fields. Ensures row-level uniqueness 
          and serves as a surrogate key.
        tests:
          - not_null
          - unique
      - name: post_question_id
        description: >
          A unique identifier for each question. This field is tested for uniqueness 
          and cannot contain null values.
        tests:
          - not_null
          - unique
      - name: post_question_title
        description: >
          The title of the question, provided by the user.
      - name: post_question_body
        description: >
          The body of the question, containing the textual content provided by the user.
      - name: accepted_answer_id
        description: >
          The identifier of the accepted answer for this question, if available. Links 
          to the `posts_answers` table.
      - name: answer_count
        description: >
          The total number of answers submitted for this question.
      - name: comment_count
        description: >
          The number of comments on this question.
      - name: community_owned_date
        description: >
          The timestamp when the question became community-owned.
      - name: favorite_count
        description: >
          The number of times this question was marked as a favorite.
      - name: last_editor_display_name
        description: >
          The display name of the user who last edited the question.
      - name: last_editor_user_id
        description: >
          The user ID of the person who last edited the question.
      - name: owner_display_name
        description: >
          The display name of the user who originally created the question.
      - name: owner_user_id
        description: >
          The user ID of the person who originally created the question. Links to the `users` table.
      - name: parent_id
        description: >
          Reserved for hierarchical post relationships. Typically null for standalone questions.
      - name: post_type_id
        description: >
          The type of the post (e.g., 1 for questions). Identifies the role of this post.
      - name: score
        description: >
          The score of the question, based on upvotes and downvotes.
      - name: tags
        description: >
          A string containing tags associated with the question. Provides categorization metadata.
      - name: tags_array
        description: >
          An array of individual tags, split from the `tags` column for easier analysis.
      - name: view_count
        description: >
          The number of times this question has been viewed.
      - name: last_activity_at
        description: >
          The timestamp of the last activity on this question, such as an answer, comment, or edit.
      - name: last_edited_at
        description: >
          The timestamp when this question was last edited.
      - name: created_at
        description: >
          The timestamp when this question was originally created.
      - name: source_partition_timestamp
        description: >
          The timestamp when the data was processed in the pipeline. Used for partitioning 
          and tracking data freshness.
